<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1,user-scalable=no">
    <title>画圆的小例子</title>
    <link rel="stylesheet" href="https://js.arcgis.com/3.15/esri/css/esri.css">
    <style>
    html,
    body,
    #mapDiv {
        padding: 0;
        margin: 0;
        height: 100%;
    }
    </style>
    <script src="https://js.arcgis.com/3.15/"></script>
    <script>
    var map;

    require([
        "esri/geometry/Polyline",
        "esri/map", "esri/toolbars/draw",
        "esri/symbols/SimpleMarkerSymbol", "esri/symbols/SimpleLineSymbol",
        "esri/symbols/PictureFillSymbol", "esri/symbols/CartographicLineSymbol",
        "esri/graphic", "esri/layers/ArcGISTiledMapServiceLayer",
        "esri/Color", "dojo/dom", "dojo/on", "dojo/domReady!"
    ], function(
        Polyline,
        Map, Draw,
        SimpleMarkerSymbol, SimpleLineSymbol,
        PictureFillSymbol, CartographicLineSymbol,
        Graphic, ArcGISTiledMapServiceLayer,
        Color, dom, on
    ) {
        map = new Map("mapDiv", { logo: false, slider: false, maxZoom: 18, minZoom: 3 });
        map.centerAndZoom(new esri.geometry.Point(121.48, 31.22), 5);
        var mapServiceLayer = new ArcGISTiledMapServiceLayer("https://map.geoq.cn/arcgis/rest/services/ChinaOnlineCommunity/MapServer?ak=MTU2NDUMTAwMU1UVTJORFUwTWpFMU56WTJPU000T0RBPQ__");
        //map.hideZoomSlider();
        map.addLayer(mapServiceLayer);

        // map = new Map("mapDiv", {
        //     basemap: "streets",
        //     center: [115.98170618060868, 40.45164547502756],
        //     zoom: 9
        // });
        map.on("load", addGraphic);

        // lineSymbol used for freehand polyline, polyline and line. 
        var lineSymbol = new CartographicLineSymbol(
            CartographicLineSymbol.STYLE_SOLID,
            new Color([255, 0, 0]), 2,
            CartographicLineSymbol.CAP_ROUND,
            CartographicLineSymbol.JOIN_MITER, 5
        );

        var fillSymbol = new PictureFillSymbol(
            "images/mangrove.png",
            new SimpleLineSymbol(
                SimpleLineSymbol.STYLE_SOLID,
                new Color('#000'),
                1
            ),
            42,
            42
        );

        function addGraphic() {

            map.enableMapNavigation();

            let geo1 = new Polyline([
                [116.46, 39.92],
                [121.48, 31.22]
            ])
            let geo2 = new Polyline([
                [121.48, 31.22],
                [113.27, 23.13]
            ]);


            map.graphics.add(new Graphic(geo1, lineSymbol));
            map.graphics.add(new Graphic(geo2, lineSymbol));

            let x = {
                "geometry": {
                    "rings": [
                        [
                            [
                                12354323.495105661,
                                4145925.0274424725
                            ],
                            [
                                12353738.202172112,
                                4134756.972975074
                            ],
                            [
                                12351988.735963328,
                                4123711.2780494858
                            ],
                            [
                                12349094.26399719,
                                4112908.9616107726
                            ],
                            [
                                12345086.498714264,
                                4102468.3760983683
                            ],
                            [
                                12340009.350029673,
                                4092503.9107519784
                            ],
                            [
                                12333918.444246866,
                                4083124.7383391373
                            ],
                            [
                                12326880.514604202,
                                4074433.6190355173
                            ],
                            [
                                12318972.670131627,
                                4066525.7745629433
                            ],
                            [
                                12310281.550828006,
                                4059487.844920279
                            ],
                            [
                                12300902.378415167,
                                4053396.939137471
                            ],
                            [
                                12290937.913068777,
                                4048319.7904528803
                            ],
                            [
                                12280497.327556372,
                                4044312.0251699565
                            ],
                            [
                                12269695.01111766,
                                4041417.553203818
                            ],
                            [
                                12258649.316192072,
                                4039668.086995033
                            ],
                            [
                                12247481.261724673,
                                4039082.7940614847
                            ],
                            [
                                12236313.207257275,
                                4039668.086995033
                            ],
                            [
                                12225267.512331687,
                                4041417.553203818
                            ],
                            [
                                12214465.195892975,
                                4044312.0251699565
                            ],
                            [
                                12204024.610380568,
                                4048319.7904528803
                            ],
                            [
                                12194060.14503418,
                                4053396.939137471
                            ],
                            [
                                12184680.972621338,
                                4059487.844920279
                            ],
                            [
                                12175989.853317717,
                                4066525.7745629433
                            ],
                            [
                                12168082.008845143,
                                4074433.6190355173
                            ],
                            [
                                12161044.07920248,
                                4083124.7383391373
                            ],
                            [
                                12154953.173419673,
                                4092503.9107519784
                            ],
                            [
                                12149876.024735082,
                                4102468.3760983683
                            ],
                            [
                                12145868.259452157,
                                4112908.9616107726
                            ],
                            [
                                12142973.787486017,
                                4123711.2780494858
                            ],
                            [
                                12141224.321277233,
                                4134756.9729750734
                            ],
                            [
                                12140639.028343685,
                                4145925.0274424725
                            ],
                            [
                                12141224.321277233,
                                4157093.0819098707
                            ],
                            [
                                12142973.787486017,
                                4168138.7768354593
                            ],
                            [
                                12145868.259452157,
                                4178941.093274172
                            ],
                            [
                                12149876.024735082,
                                4189381.6787865767
                            ],
                            [
                                12154953.173419673,
                                4199346.144132966
                            ],
                            [
                                12161044.07920248,
                                4208725.316545808
                            ],
                            [
                                12168082.008845143,
                                4217416.435849427
                            ],
                            [
                                12175989.853317717,
                                4225324.280322001
                            ],
                            [
                                12184680.972621338,
                                4232362.209964666
                            ],
                            [
                                12194060.14503418,
                                4238453.115747473
                            ],
                            [
                                12204024.610380568,
                                4243530.264432064
                            ],
                            [
                                12214465.195892975,
                                4247538.029714989
                            ],
                            [
                                12225267.512331687,
                                4250432.501681127
                            ],
                            [
                                12236313.207257275,
                                4252181.9678899115
                            ],
                            [
                                12247481.261724673,
                                4252767.26082346
                            ],
                            [
                                12258649.316192072,
                                4252181.9678899115
                            ],
                            [
                                12269695.01111766,
                                4250432.501681127
                            ],
                            [
                                12280497.327556372,
                                4247538.029714989
                            ],
                            [
                                12290937.913068777,
                                4243530.264432064
                            ],
                            [
                                12300902.378415167,
                                4238453.115747474
                            ],
                            [
                                12310281.550828006,
                                4232362.209964666
                            ],
                            [
                                12318972.670131627,
                                4225324.280322001
                            ],
                            [
                                12326880.514604202,
                                4217416.435849427
                            ],
                            [
                                12333918.444246866,
                                4208725.316545808
                            ],
                            [
                                12340009.350029673,
                                4199346.144132966
                            ],
                            [
                                12345086.498714264,
                                4189381.6787865767
                            ],
                            [
                                12349094.26399719,
                                4178941.093274172
                            ],
                            [
                                12351988.735963328,
                                4168138.7768354593
                            ],
                            [
                                12353738.202172112,
                                4157093.081909871
                            ],
                            [
                                12354323.495105661,
                                4145925.0274424725
                            ]
                        ]
                    ],
                    "spatialReference": { "wkid": 102100, "latestWkid": 3857 }
                },
                "symbol": {
                    "color": [0, 0, 0, 64],
                    "outline": {
                        "color": [0, 0, 0, 255],
                        "width": 1,
                        "type": "esriSLS",
                        "style": "esriSLSSolid"
                    },
                    "type": "esriSFS",
                    "style": "esriSFSSolid"
                }
            };
            let myMultiPoint = {
                "geometry": {
                    "points": [
                        [
                            12354323.495105661,
                            4145925.0274424725
                        ],
                        [
                            12353738.202172112,
                            4134756.972975074
                        ],
                        [
                            12351988.735963328,
                            4123711.2780494858
                        ],
                        [
                            12349094.26399719,
                            4112908.9616107726
                        ],
                        [
                            12345086.498714264,
                            4102468.3760983683
                        ],
                        [
                            12340009.350029673,
                            4092503.9107519784
                        ],
                        [
                            12333918.444246866,
                            4083124.7383391373
                        ],
                        [
                            12326880.514604202,
                            4074433.6190355173
                        ],
                        [
                            12318972.670131627,
                            4066525.7745629433
                        ],
                        [
                            12310281.550828006,
                            4059487.844920279
                        ],
                        [
                            12300902.378415167,
                            4053396.939137471
                        ],
                        [
                            12290937.913068777,
                            4048319.7904528803
                        ],
                        [
                            12280497.327556372,
                            4044312.0251699565
                        ],
                        [
                            12269695.01111766,
                            4041417.553203818
                        ],
                        [
                            12258649.316192072,
                            4039668.086995033
                        ],
                        [
                            12247481.261724673,
                            4039082.7940614847
                        ],
                        [
                            12236313.207257275,
                            4039668.086995033
                        ],
                        [
                            12225267.512331687,
                            4041417.553203818
                        ],
                        [
                            12214465.195892975,
                            4044312.0251699565
                        ],
                        [
                            12204024.610380568,
                            4048319.7904528803
                        ],
                        [
                            12194060.14503418,
                            4053396.939137471
                        ],
                        [
                            12184680.972621338,
                            4059487.844920279
                        ],
                        [
                            12175989.853317717,
                            4066525.7745629433
                        ],
                        [
                            12168082.008845143,
                            4074433.6190355173
                        ],
                        [
                            12161044.07920248,
                            4083124.7383391373
                        ],
                        [
                            12154953.173419673,
                            4092503.9107519784
                        ],
                        [
                            12149876.024735082,
                            4102468.3760983683
                        ],
                        [
                            12145868.259452157,
                            4112908.9616107726
                        ],
                        [
                            12142973.787486017,
                            4123711.2780494858
                        ],
                        [
                            12141224.321277233,
                            4134756.9729750734
                        ],
                        [
                            12140639.028343685,
                            4145925.0274424725
                        ],
                        [
                            12141224.321277233,
                            4157093.0819098707
                        ],
                        [
                            12142973.787486017,
                            4168138.7768354593
                        ],
                        [
                            12145868.259452157,
                            4178941.093274172
                        ],
                        [
                            12149876.024735082,
                            4189381.6787865767
                        ],
                        [
                            12154953.173419673,
                            4199346.144132966
                        ],
                        [
                            12161044.07920248,
                            4208725.316545808
                        ],
                        [
                            12168082.008845143,
                            4217416.435849427
                        ],
                        [
                            12175989.853317717,
                            4225324.280322001
                        ],
                        [
                            12184680.972621338,
                            4232362.209964666
                        ],
                        [
                            12194060.14503418,
                            4238453.115747473
                        ],
                        [
                            12204024.610380568,
                            4243530.264432064
                        ],
                        [
                            12214465.195892975,
                            4247538.029714989
                        ],
                        [
                            12225267.512331687,
                            4250432.501681127
                        ],
                        [
                            12236313.207257275,
                            4252181.9678899115
                        ],
                        [
                            12247481.261724673,
                            4252767.26082346
                        ],
                        [
                            12258649.316192072,
                            4252181.9678899115
                        ],
                        [
                            12269695.01111766,
                            4250432.501681127
                        ],
                        [
                            12280497.327556372,
                            4247538.029714989
                        ],
                        [
                            12290937.913068777,
                            4243530.264432064
                        ],
                        [
                            12300902.378415167,
                            4238453.115747474
                        ],
                        [
                            12310281.550828006,
                            4232362.209964666
                        ],
                        [
                            12318972.670131627,
                            4225324.280322001
                        ],
                        [
                            12326880.514604202,
                            4217416.435849427
                        ],
                        [
                            12333918.444246866,
                            4208725.316545808
                        ],
                        [
                            12340009.350029673,
                            4199346.144132966
                        ],
                        [
                            12345086.498714264,
                            4189381.6787865767
                        ],
                        [
                            12349094.26399719,
                            4178941.093274172
                        ],
                        [
                            12351988.735963328,
                            4168138.7768354593
                        ],
                        [
                            12353738.202172112,
                            4157093.081909871
                        ],
                        [
                            12354323.495105661,
                            4145925.0274424725
                        ]
                    ],
                    "spatialReference": 4326
                },
                "symbol": {
                    "color": [255, 255, 0, 64],
                    "size": 32,
                    "angle": 0,
                    "xoffset": 0,
                    "yoffset": 0,
                    "type": "esriSMS",
                    "style": "esriSMSCircle",
                    "outline": { "color": [0, 0, 0, 255], "width": 1, "type": "esriSLS", "style": "esriSLSSolid" }
                }
            };

            var myMultiPoint1 = {
                "geometry": {
                    "points": [
                        [-92.109375, 44.296875],
                        [-86.1328125, 31.9921875],
                        [-73.4765625, 45.703125],
                        [
                            12354323.495105661,
                            4145925.0274424725
                        ]
                    ],
                    "spatialReference": 4326
                },
                "symbol": {
                    "color": [255, 255, 255, 64],
                    "size": 12,
                    "angle": 0,
                    "xoffset": 0,
                    "yoffset": 0,
                    "type": "esriSMS",
                    "style": "esriSMSCircle",
                    "outline": { "color": [0, 0, 0, 255], "width": 1, "type": "esriSLS", "style": "esriSLSSolid" }
                }
            };

            // map.graphics.add(new Graphic(myMultiPoint1))

            // map.graphics.add(new Graphic(x, fillSymbol));



            var p=new Point({
                            "x":510706,
                            "y":3986100,
                            "spatialReference":map.spatialReference
                        });
                        //半径
                        var r=20;
                        geometry=new Circle(p,{
                            "radius":r
                        });
                        graphic=new Graphic(geometry);
                        map.graphics.add(graphic)

        }
    });

    // window.onload = () => {
    //     document.getElementById('mapDiv').onclick = () => {
    //         map.centerAndZoom(new esri.geometry.Point(106, 28), 4);
    //     }
    // }
    </script>
</head>

<body>
    <div id="mapDiv"></div>
</body>

</html>