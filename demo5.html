<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <link rel="stylesheet" href="https://js.arcgis.com/3.29/esri/css/esri.css">
    <script src="https://js.arcgis.com/3.29/"></script>
    <style>
    html,
    body,
    #map {
        height: 100%;
        padding: 0;
        margin: 0;
    }
    </style>
</head>

<body>
    <div id="map"></div>
    <script>
    var map;

    require(["esri/map", "esri/symbols/TextSymbol", "esri/symbols/Font", "esri/symbols/SimpleMarkerSymbol", "esri/symbols/SimpleLineSymbol", "esri/symbols/SimpleFillSymbol", "esri/geometry/Polyline", "esri/symbols/PictureFillSymbol", "esri/symbols/CartographicLineSymbol", "esri/graphic", "esri/symbols/PictureMarkerSymbol", "esri/Color", "esri/geometry/Point", "dojo/dom", "dojo/on", "dojo/domReady!"],

        function(Map, TextSymbol, Font, SimpleMarkerSymbol, SimpleLineSymbol, SimpleFillSymbol, Polyline, PictureFillSymbol, CartographicLineSymbol, Graphic, PictureMarkerSymbol, Color, Point, dom, on) {


            map = new Map("map", {
                basemap: "streets",
                center: [106, 40],
                zoom: 7
            });

            var l = new Polyline([
                [116.35604950982759, 39.93908465899215],
                [115.98170618060868, 40.45164547502756]
            ]);

            var la = new CartographicLineSymbol(CartographicLineSymbol.STYLE_SOLID, new Color([248, 0, 0]), 3, CartographicLineSymbol.CAP_ROUND, CartographicLineSymbol.JOIN_ROUND, 5);

            map.enableMapNavigation();


            map.on('load', function() {
                console.log(map.graphics)
                map.graphics.add(new Graphic(l, la));


            })
        });
    </script>
</body>

</html>